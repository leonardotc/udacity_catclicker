<html>
  <head>
    <title>Coursera Training</title>
    <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/bootstrap-theme.min.css">
<script src="js/jquery-1.12.4.min.js"></script>
<script src="js/bootstrap.min.js"></script>
  </head>
  <body>
    <div class="col-sm-12">
      <div class="list-container col-sm-4">
        <ul id="cat-list"></ul>
      </div>
      <div class="col-sm-8">
        <div id="cat-container">
		  <table>
            <td><tr><h2 id="active-cat-name"></h2></tr></td>
            <td><tr><img id="active-cat-img"></tr></td>
            <td><tr><p id="active-cat-counter"></p></tr></td>
          </table>
        </div>
      </div>
    </div>
  </body>
  <script>
    $(function() {
    
      var catsModel = {
        currentCat: null,
        cats: [
              {total: 0, name: 'Marcelo', img:'img/blueboy3.jpg'},
              {total: 0, name: 'Doris Clone', img:'img/blueboy4.jpg'},
              {total: 0, name: 'Kid Kat', img:'img/blueboy5.jpg'},
              {total: 0, name: 'Packed Cat', img:'img/blueboy6.jpg'},
              {total: 0, name: 'Bath Cat', img:'img/blueboy7.jpg'}],
        
        init: function() {
          this.currentCat = this.cats[0];
        },

        getCats: function() {
          return this.cats;
        },

        getSelectedCat: function() {
          return this.currentCat;
        },
        
        selectCat: function(cat) {
          this.currentCat = cat;
        },
        
        updateCounter: function() {
          this.currentCat.total++;
        },
        
      }
      
      var octopus = {
        init: function() {
          catsModel.init();
          catsView.init();
        },
        
        getCats: function() {
          return catsModel.getCats();
        },
        
        selectCat: function(cat) {
          catsModel.selectCat(cat);
          catsView.renderCat();
        },
        
        getSelectedCat: function() {
          return catsModel.getSelectedCat();
        },
        
        count: function() {
          catsModel.updateCounter();
          catsView.renderCat();
        }
      }
      
      var catsView = {
        init: function() {

          this.nameNode = $("#active-cat-name");
          this.imgNode = $("#active-cat-img");
          this.counterNode = $("#active-cat-counter");
          this.catList = $('#cat-list');

          this.imgNode.click(function() {
            octopus.count();
          });
		  
          this.renderList();
          this.renderCat();
        },
        
        renderList: function() {
          var self = this;
        
          self.catList.html( '' );
          octopus.getCats().forEach(function(cat) {
          
            var el = $(document.createElement("li"));
            self.catList.append(el);
            el.text(cat.name);
            
            el.click(function(e) {
              octopus.selectCat(cat);
            });
          });
        },
        
        renderCat: function() {
          var cat = octopus.getSelectedCat();

          this.nameNode.html( cat.name );
          this.imgNode.attr('src', cat.img );
          this.counterNode.html( cat.total );
                    
        }

      }
      
      octopus.init();
    });
    </script>
</html>